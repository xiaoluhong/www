<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>tcpdump 手册 | IT老男孩</title><meta name="keywords" content="IT老男孩,rancher,github rancher,rke,rke2,k3s,docker,kubernetes,devops,多集群管理,容器,Linux运维,网络运维,最佳实践,tcpdump,抓包,tcpdump,抓包"><meta name="author" content="IT老男孩"><meta name="copyright" content="IT老男孩"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本文永久链接: https:&#x2F;&#x2F;www.xtplayer.cn&#x2F;linux&#x2F;network&#x2F;tcpdump-man-page&#x2F;  本文翻译至：https:&#x2F;&#x2F;www.tcpdump.org&#x2F;manpages&#x2F;tcpdump.1.html 基本参数# tcpdump  -htcpdump version 4.9.3libpcap version 1.9.1 (with TPACKET_V3)Open"><meta property="og:type" content="article"><meta property="og:title" content="tcpdump 手册"><meta property="og:url" content="https://www.xtplayer.cn/linux/network/tcpdump-man-page/index.html"><meta property="og:site_name" content="IT老男孩"><meta property="og:description" content="本文永久链接: https:&#x2F;&#x2F;www.xtplayer.cn&#x2F;linux&#x2F;network&#x2F;tcpdump-man-page&#x2F;  本文翻译至：https:&#x2F;&#x2F;www.tcpdump.org&#x2F;manpages&#x2F;tcpdump.1.html 基本参数# tcpdump  -htcpdump version 4.9.3libpcap version 1.9.1 (with TPACKET_V3)Open"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.xtplayer.cn/img/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2021-01-16T07:31:21.000Z"><meta property="article:modified_time" content="2021-02-04T17:33:40.000Z"><meta property="article:author" content="IT老男孩"><meta property="article:tag" content="tcpdump"><meta property="article:tag" content="抓包"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.xtplayer.cn/img/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" type="image/png" href="/img/favicon.png"><link rel="canonical" href="https://www.xtplayer.cn/linux/network/tcpdump-man-page/"><link rel="preconnect" href="https//cdn.jsdelivr.net"><link rel="preconnect" href="https//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="https//hm.baidu.com"><link rel="preconnect" href="https//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet preload" as="font" href="/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="/css/snackbar.min.css" media="print" onload='this.media="all"'><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-4244806813321801",enable_page_level_ads:"true"})</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?08d495d3996be233cf4355e47874fd02";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WDVQSZ43MX"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WDVQSZ43MX")</script><script>!function(){var c=document.createElement("script");c.src="https://sf1-scmcdn-tos.pstatp.com/goofy/ttzz/push.js?abca38a75f1ee646121b4cdefd4e13ce89e669412cb977bb98b66029e7fc3cfc8d38a1f1352cfca035e8cdfca27dc395b6c71280cecfa54b697791769b400b8d",c.id="ttzz";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e)}(window)</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!1,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#121212",position:"bottom-center"},source:{jQuery:"/js/jquery.min.js",justifiedGallery:{js:"/js/jquery.justifiedGallery.min.js",css:"/css/justifiedGallery.min.css"},fancybox:{js:"/js/jquery.fancybox.min.js",css:"/css/jquery.fancybox.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isanchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2021-02-05 01:33:40"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)});const t=saveToLocal.get("aside-status");void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"))})(window)</script><style>#toggle-sidebar{left:100px}</style><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="IT老男孩" type="application/atom+xml"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.jpeg" onerror='onerror=null,src="/img/friend_404.gif"' width="110px" height="110px" alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">132</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">96</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">40</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/ad/"><i class="fa-fw fas fa-heart"></i> <span>广告</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">IT老男孩</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/ad/"><i class="fa-fw fas fa-heart"></i> <span>广告</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div class="ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="4594418186" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div id="post-info"><h1 class="post-title">tcpdump 手册</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表:</span> <time class="post-meta-date-created" datetime="2021-01-16T07:31:21.000Z" title="发表 2021-01-16 15:31:21">2021-01-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新:</span> <time class="post-meta-date-updated" datetime="2021-02-04T17:33:40.000Z" title="更新 2021-02-05 01:33:40">2021-02-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><span class="post-meta-label">分类:</span> <a class="post-meta-categories" href="/categories/linux/">linux</a><i class="fas fa-angle-right post-meta-separator"></i><a class="post-meta-categories" href="/categories/linux/network/">network</a></span><span class="post-meta tags"><span class="post-meta-separator">|</span><i class="fas fa-tag post-meta-icon"></i><span class="post-meta-label">标签:</span> <a class="post-meta-tags" href="/tags/tcpdump/">tcpdump</a><span class="post-meta__link">•</span><a class="post-meta-tags" href="/tags/%E6%8A%93%E5%8C%85/">抓包</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span> <span class="word-count">5.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span> <span>24分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="tcpdump 手册"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><p><span>本文永久链接:</span><i class="fa fa-creative-commons"></i> <a rel="noopener external nofollow noreferrer" href="https://www.xtplayer.cn/linux/network/tcpdump-man-page/" target="_blank" title="https://www.xtplayer.cn/linux/network/tcpdump-man-page/">https://www.xtplayer.cn/linux/network/tcpdump-man-page/</a></p><p>本文翻译至：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tcpdump.org/manpages/tcpdump.1.html">https://www.tcpdump.org/manpages/tcpdump.1.html</a></p><h2 id="基本参数"><a href="#基本参数" class="headerlink" title="基本参数"></a>基本参数</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tcpdump  -h</span></span><br><span class="line"></span><br><span class="line">tcpdump version 4.9.3</span><br><span class="line">libpcap version 1.9.1 (with TPACKET_V3)</span><br><span class="line">OpenSSL 1.1.1g FIPS  21 Apr 2020</span><br><span class="line">Usage: tcpdump [-aAbdDefhHIJKlLnNOpqStuUvxX<span class="comment">#] [ -B size ] [ -c count ]</span></span><br><span class="line">    [ -C file_size ] [ -E algo:secret ] [ -F file ] [ -G seconds ]</span><br><span class="line">    [ -i interface ] [ -j tstamptype ] [ -M secret ] [ --number ]</span><br><span class="line">    [ -Q <span class="keyword">in</span>|out|inout ]</span><br><span class="line">    [ -r file ] [ -s snaplen ] [ --time-stamp-precision precision ]</span><br><span class="line">    [ --immediate-mode ] [ -T <span class="built_in">type</span> ] [ --version ] [ -V file ]</span><br><span class="line">    [ -w file ] [ -W filecount ] [ -y datalinktype ] [ -z postrotate-command ]</span><br><span class="line">    [ -Z user ] [ expression ]</span><br></pre></td></tr></table></figure><h2 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h2><p>Tcpdump 打印出与布尔表达式匹配的网络接口上的数据包的描述内容，该描述之前有一个时间戳，默认打印为小时、分钟、秒以及从午夜开始的几分之一秒。它还可以使用 <strong>-w</strong> 参数运行，将把数据包保存到一个文件中供以后分析，<strong>和&#x2F;或</strong>使用 <strong>-r</strong> 参数从保存的数据包文件中读取，也可以使用 <strong>-V</strong> 参数读取已保存的包文件列表。在所有情况下，tcpdump 只处理匹配表达式的数据包。</p><p>如果不使用 <code>-c</code> 参数指定捕获数据包数量，它会一直捕捉数据包，一直到收到 <code>SIGINT</code>（control + c）或者 <code>SIGTERM</code>(<strong>kill</strong> 终止命令)信号时才会停止。 如果使用 <code>-c</code> 参数，它会捕捉包到收到 <code>SIGINT</code> 或者 <code>SIGTERM</code> 信号，或者收到指定数量的包之后才会停止。</p><p>当 <code>tcpdump</code> 完成捕捉包，它会报告以下的计数：</p><ul><li><code>captured</code> <em>tcpdump</em> 已接收和处理的数据包数量；</li><li><code>received by filter</code> 过滤器接收的数据包数量；</li><li><code>dropped by kernel</code> 丢弃的包，一般由于 buffer 空间不够引起；</li></ul><p>对于支持 <code>SIGINFO</code> 信号的平台，比如大多数的 BSD(包括 mac osx)和 Digital&#x2F;Tru64 UNIX， 它收到 <code>SIGINFO</code> 信号时会报告这些计数，然后继续捕捉包。从网络设备上读取包需要 root 权限，从文件上读取不需要。使用<strong>SIGUSR2</strong>信号和 <strong>-w</strong> 参数将强制把数据包缓冲区刷新到输出文件中。</p><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><ul><li><p><strong>-A</strong></p><p>以 ASCII 码方式显示每一个数据包(不会显示数据包中链路层头部信息). 在抓取包含网页数据的数据包时， 可方便查看数据。</p></li><li><p><strong>-b</strong></p><p>在 BGP 报文中打印 AS 号，使用 ASDOT 代替 ASPLAIN。</p></li><li><p><strong>-B</strong> <em>buffer_size</em></p></li><li><p><em>–buffer-size&#x3D;buffer_size</em></p><p>将操作系统捕获缓冲区大小设置为 <em>buffer_size</em>，单位为 KiB(1024 字节)。</p></li><li><p><strong>-c</strong> <em>count</em></p><p>接收到 <em>count</em> 个数据包后退出。</p></li><li><p><strong>–count</strong></p><p>读取捕获文件时仅在标准错误上打印数据包计数，而不是解析&#x2F;打印数据包。如果在命令行中指定了过滤器，<em>tcpdump</em> 只对匹配该过滤器表达式的数据包进行统计。</p></li><li><p><strong>-C</strong> <em>file_size</em> （此选项用于配合 -w file 选项使用)）</p><p>在将原始数据包写入 savefile 之前，检查该文件当前是否大于 <em>file_size</em>，如果大于，则关闭当前 savefile 并打开一个新的 savefile。在第一个保存文件之后的保存文件将具有用 <strong>-w</strong> 标志指定的名称，后面有一个数字，从 1 开始递增。<em>file_size</em> 的单位是百万字节(1，000，000 字节，而不是 1，048，576 字节)。</p></li><li><p><strong>-d</strong></p><p>以容易阅读的形式在标准输出上打印编译后的包匹配代码并停止。</p><p>请注意，尽管代码编译始终是特定于 DLT 的，但是通常不可能（且不必要）指定用于转储的 DLT，因为 tcpdump 使用 -r 指定的输入 pcap 文件的 DLT 或默认的 DLT。-i 指定的网络接口，或 -y 和 -i 分别指定的网络接口的特定 DLT。在这些情况下，转储显示代码完全相同，可以过滤输入文件或不带-d 的网络接口。</p><p>但是，当没有指定 <strong>-r</strong> 和 <strong>-i</strong> 时，指定 <strong>-d</strong> 可防止 <em>tcpdump</em> 猜测合适的网络接口(参见 <strong>-i</strong> )。在本例中，DLT 默认为 EN10MB，可以使用 <strong>-y</strong> 手动将其设置为另一个有效值。</p></li><li><p><strong>-dd</strong></p><p>使用 c 语言片段的方式打印 packet-matching code。</p></li><li><p><strong>-ddd</strong></p><p>使用十进制数字的方式打印 packet-matching code。</p></li><li><p><strong>-D</strong></p></li><li><p><strong>–list-interfaces</strong></p><p>打印系统上可用的网络接口列表，tcpdump 可以在该网络接口上捕获数据包。对于每个网络接口，将打印一个数字和一个接口名称，并可能在其后显示该接口的文本描述。可以将接口名称或编号传递给 -i 参数，以指定要捕获的接口。</p><p>这对于没有命令列出网络接口的操作系统（例如 Windows 系统或缺少 ifconfig -a 的 UNIX 系统）很有用，该数字在 Windows 2000 和更高版本的系统上非常有用，在 Windows 2000 和更高版本的系统上，接口名称是一个有点复杂的字符串。</p><p>如果<em>tcpdump</em>是用<em>libpcap</em>的旧版本构建的，缺少 <strong><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tcpdump.org/manpages/pcap_findalldevs.3pcap.html">pcap_findalldevs</a>(3PCAP)</strong> 函数，则不支持 <strong>-D</strong> 参数。</p></li><li><p><strong>-e</strong></p><p>在每个转储行上打印链接级标题。例如，它可以用于打印以太网和 IEEE 802.11 等协议的 MAC 层地址。</p></li><li><p><strong>-E</strong></p><p>Use <em><a href="mailto:spi@ipaddr" rel="external nofollow noreferrer">spi@ipaddr</a> algo:secret</em> for decrypting IPsec ESP packets that are addressed to <em>addr</em> and contain Security Parameter Index value <em>spi</em>. This combination may be repeated with comma or newline separation.</p><p>注意，目前仅支持对 IPv4 ESP 报文设置 secret。</p><p>可用于加密的算法包括 <code>des-cbc， 3des-cbc， blowfish-cbc， rc3-cbc， cast128-cbc， 或者没有(none)</code>，默认为 des-cbc。注意：只有在 <em>tcpdump</em>编译时启用了加密技术，才具有解密数据包的能力。</p><p>secret 为用于 ESP 的密钥， 使用 ASCII 字符串方式表达. 如果以 0x 开头， 该密钥将以 16 进制方式读入.</p><p>该选项中 ESP 的定义遵循 RFC2406， 而不是 RFC1827. 并且， 此选项只是用来调试的， 不推荐以真实密钥(secret)来使用该选项， 因为这样不安全: 在命令行中输入的 secret 可以被其他人通过 ps 等命令查看到.</p><p>除了上述语法之外，语法 <em>file name</em> 可用于让 tcpdump 读取提供的文件。该文件在收到第一个 ESP 数据包时被打开，因此 tcpdump 可能已经给予的任何特殊权限都应该已经被放弃。</p></li><li><p><strong>-f</strong></p><p>以数字而不是符号的方式打印 “外部” IPv4 地址(这个选项是为了避免 Sun 的 NIS 服务器的严重脑损伤——通常在转换非本地互联网号码时它会永远挂起)。</p><p>对“外部”IPv4 地址的测试是使用正在捕获的接口的 IPv4 地址和 netmask 完成的。如果该地址或 netmask 不可用，或者因为正在进行捕获的接口没有地址或 netmask，或者因为捕获是在 Linux “any”接口上进行的，该接口可以在多个接口上进行捕获，那么该选项将不能正确工作。</p></li><li><p><strong>-F</strong> <em>file</em></p><p>使用 <em>file</em> 作为过滤表达式的输入。在命令行中给出的附加表达式将被忽略。</p></li><li><p><strong>-G</strong> <em>rotate_seconds</em></p><p>如果指定该参数，将以 <strong>-w</strong> 选项指定的转储文件每 <em>rotate_seconds</em> 秒旋转一次。保存文件的名称将由 <strong>-w</strong> 指定，其中应包含<strong>strftime</strong>定义的时间格式。如果没有指定时间格式，每个新文件将覆盖之前的文件。每当生成的文件名不是唯一的，tcpdump 就会覆盖已存在的数据。因此，不建议提供比捕获周期更粗的时间规范。</p><p>如果与 <strong>-C</strong> 选项一起使用，文件名将采取 ‘<em>file</em><count>‘ 的形式。</count></p></li><li><p><strong>-h</strong></p></li><li><p><strong>–help</strong></p><p>打印 tcpdump 和 libpcap 版本字符串，输出帮助信息并退出。</p></li><li><p><strong>–version</strong></p><p>打印 tcpdump 和 libpcap 版本字符串并退出。</p></li><li><p><strong>-H</strong></p><p>尝试检测 802.11s 网络头。</p></li><li><p><strong>-i</strong> <em>interface</em></p></li><li><p><em>–interface&#x3D;interface</em></p><p>监听 interface 接口。如果没指定，tcpdump 会搜索系统中编号最少的接口(不包括回环地址)。</p><p>对于 linux 2.2 及以后的系统，可以使用 any 来指定捕捉所有的接口。对于 promiscuous 模式不适用。</p><p>如果支持-D 参数，可以使用接口数字来进行指定。</p></li><li><p><strong>-I</strong></p></li><li><p><strong>–monitor-mode</strong></p><p>将接口设置为 monitor mode，这只支持 ieee802.11 Wi-Fi 接口，并且只支持某些操作系统。</p><p>注意，在监控模式下，适配器可能会与它所关联的网络解除关联，因此您将无法使用该适配器的任何无线网络。如果您在监控模式下进行捕获，并且没有通过另一个适配器连接到另一个网络，那么这可能会阻止访问网络服务器上的文件，或解析主机名或网络地址。</p><p>此标志将影响**-L** 标志的输出。如果没有指定 <strong>-I</strong>，则只显示那些在监控模式下可用的链路层类型;如果指定了 <strong>-I</strong>，则只显示在监控模式下可用的链路层类型。</p></li><li><p><strong>–immediate-mode</strong></p><p>捕获在 “immediate mode”。在这种模式下，数据包一到达就被发送到 tcpdump，而不是为了提高效率而进行缓冲。如果数据包被打印到终端而不是保存信息包到“savefile”时，这是默认值。</p></li><li><p><strong>-j</strong> <em>tstamp_type</em></p></li><li><p><em>–time-stamp-type&#x3D;tstamp_type</em></p><p>将捕获的时间戳类型设置为<em>tstamp_type</em>。时间戳类型使用的名称见**<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tcpdump.org/manpages/pcap-tstamp.7.html">pcap-tstamp</a>**(7);并不是所有列出的类型对任何给定的接口都是有效的。</p></li><li><p><strong>-J</strong></p></li><li><p><strong>–list-time-stamp-types</strong></p><p>列出接口和出口支持的时间戳类型。如果不能设置接口的时间戳类型，则不列出时间戳类型。</p></li><li><p><em>–time-stamp-precision&#x3D;tstamp_precision</em></p><p>When capturing， set the time stamp precision for the capture to <em>tstamp_precision</em>. Note that availability of high precision time stamps (nanoseconds) and their actual accuracy is platform and hardware dependent. Also note that when writing captures made with nanosecond accuracy to a savefile， the time stamps are written with nanosecond resolution， and the file is written with a different magic number， to indicate that the time stamps are in seconds and nanoseconds; not all programs that read pcap savefiles will be able to read those captures.</p><p>When reading a savefile， convert time stamps to the precision specified by <em>timestamp_precision</em>， and display them with that resolution. If the precision specified is less than the precision of time stamps in the file， the conversion will lose precision.</p><p>The supported values for <em>timestamp_precision</em> are <strong>micro</strong> for microsecond resolution and <strong>nano</strong> for nanosecond resolution. The default is microsecond resolution.</p></li><li><p><strong>–micro</strong></p></li><li><p><strong>–nano</strong></p><p>Shorthands for <strong>–time-stamp-precision&#x3D;micro</strong> or <strong>–time-stamp-precision&#x3D;nano</strong>， adjusting the time stamp precision accordingly. When reading packets from a savefile， using <strong>–micro</strong> truncates time stamps if the savefile was created with nanosecond precision. In contrast， a savefile created with microsecond precision will have trailing zeroes added to the time stamp when <strong>–nano</strong> is used.</p></li><li><p><strong>-K</strong></p></li><li><p><strong>–dont-verify-checksums</strong></p><p>Don’t attempt to verify IP， TCP， or UDP checksums. This is useful for interfaces that perform some or all of those checksum calculation in hardware; otherwise， all outgoing TCP checksums will be flagged as bad.</p></li><li><p><strong>-l</strong></p><p>缓冲 stdout 行数。如果您想在捕获数据时查看数据，这是非常有用的。例如，</p><p><code>tcpdump -l | tee dat</code> 或者 <code>tcpdump -l &gt; dat &amp; tail -f dat</code></p><p>注意，在 Windows 上，<code>line buffered</code> 意味着 <code>unbuffered</code>，所以如果指定了 <strong>-l</strong>，WinDump 将单独写入每个字符。</p><p><strong>-U</strong> is similar to <strong>-l</strong> in its behavior， but it will cause output to be &#96;&#96;packet-buffered’’， so that the output is written to stdout at the end of each packet rather than at the end of each line; this is buffered on all platforms， including Windows.</p></li><li><p><strong>-L</strong></p></li><li><p><strong>–list-data-link-types</strong></p><p>List the known data link types for the interface， in the specified mode， and exit. The list of known data link types may be dependent on the specified mode; for example， on some platforms， a Wi-Fi interface might support one set of data link types when not in monitor mode (for example， it might support only fake Ethernet headers， or might support 802.11 headers but not support 802.11 headers with radio information) and another set of data link types when in monitor mode (for example， it might support 802.11 headers， or 802.11 headers with radio information， only in monitor mode).</p></li><li><p><strong>-m</strong> <em>module</em></p><p>从 <em>module</em> 文件加载 SMI MIB 模块定义。该选项可多次使用，用于将多个 MIB 模块加载到 <em>tcpdump</em>中。</p></li><li><p><strong>-M</strong> <em>secret</em></p><p>如果 TCP 数据包(TCP segments)有 TCP-MD5 选项(在 RFC 2385 有相关描述)， 则为其摘要的验证指定一个公共的密钥 secret.</p></li><li><p><strong>-n</strong></p><p>不要将地址(即主机地址、端口号等)转换为名称。</p></li><li><p><strong>-N</strong></p><p>-N 不打印出 host 的域名部分。比如，如果设置了此参数， tcpdump 将会打印 ‘nic’ 而不是 ‘nic.ddn.mil’。</p></li><li><p><strong>-#</strong></p></li><li><p><strong>–number</strong></p><p>在行首打印一个可选的数据包号。</p></li><li><p><strong>-O</strong></p></li><li><p><strong>–no-optimize</strong></p><p>不要运行数据包匹配代码优化器。这只有在您怀疑优化器中存在 bug 时才有用。</p></li><li><p><strong>-p</strong></p></li><li><p><strong>–no-promiscuous-mode</strong></p><p><em>不要</em> 将接口设置为混杂模式。请注意，接口可能由于其他原因处于混杂模式，因此，’-p’ 不能用作 ‘ether host {local-hw-addr} or ether broadcast’ 的缩写。</p></li><li><p><strong>–print</strong></p><p>即使原始数据包被保存到带有**-w**标志的文件中，也打印输出已解析的数据包。</p></li><li><p><strong>-Q</strong> <em>direction</em></p></li><li><p><em>–direction&#x3D;direction</em></p><p>Choose send&#x2F;receive direction <em>direction</em> for which packets should be captured. Possible values are <code>in&#39;，</code> out’ and &#96;inout’. Not available on all platforms.</p></li><li><p><strong>-q</strong></p><p>快速(安静?)输出。打印更少的协议信息，这样输出行就更短。</p></li><li><p><strong>-r</strong> <em>file</em></p><p>从文件 file 中读取包数据. 如果 file 字段为 ‘-‘ 符号， 则 tcpdump 会从标准输入中读取包数据。</p></li><li><p><strong>-S</strong></p></li><li><p><strong>–absolute-tcp-sequence-numbers</strong></p><p>打印绝对而不是相对的 TCP 序列号。</p><p>相对顺序号可理解为， 相对第一个 TCP 包顺序号的差距，比如， 接受方收到第一个数据包的绝对顺序号为 232323， 对于后来接收到的第 2 个，第 3 个数据包， tcpdump 会打印其序列号为 1， 2 分别表示与第一个数据包的差距为 1 和 2. 而如果此时-S 选项被设置， 对于后来接收到的第 2 个， 第 3 个数据包会打印出其绝对顺序号: 232324， 232325。</p></li><li><p><strong>-s</strong> <em>snaplen</em></p></li><li><p><em>–snapshot-length&#x3D;snaplen</em></p><p>设置 tcpdump 的数据包抓取长度为 snaplen，如果不设置默认将会是 68 字节(而支持网络接口分接头。68 字节对于 IP， ICMP(nt: Internet Control Message Protocol，因特网控制报文协议)， TCP 以及 UDP 协议的报文已足够， 但对于名称服务(nt: 可理解为 dns， nis 等服务)， NFS 服务相关的数据包会产生包截短. 如果产生包截短这种情况， tcpdump 的相应打印输出行中会出现’’[|proto]’’的标志（proto 实际会显示为被截短的数据包的相关协议层次). 需要注意的是， 采用长的抓取长度，会增加包的处理时间， 并且会减少 tcpdump 可缓存的数据包的数量， 从而会导致数据包的丢失. 所以， 在能抓取我们想要的包的前提下， 抓取长度越小越好。把 snaplen 设置为 0 意味着让 tcpdump 自动选择合适的长度来抓取数据包.</p><p>Snarf <em>snaplen</em> bytes of data from each packet rather than the default of 262144 bytes. Packets truncated because of a limited snapshot are indicated in the output with &#96;&#96;[|<em>proto</em>]’’， where <em>proto</em> is the name of the protocol level at which the truncation has occurred.</p><p>Note that taking larger snapshots both increases the amount of time it takes to process packets and， effectively， decreases the amount of packet buffering. This may cause packets to be lost. Note also that taking smaller snapshots will discard data from protocols above the transport layer， which loses information that may be important. NFS and AFS requests and replies， for example， are very large， and much of the detail won’t be available if a too-short snapshot length is selected.</p><p>If you need to reduce the snapshot size below the default， you should limit <em>snaplen</em> to the smallest number that will capture the protocol information you’re interested in. Setting <em>snaplen</em> to 0 sets it to the default of 262144， for backwards compatibility with recent older versions of <em>tcpdump</em>.</p></li><li><p><strong>-T</strong> <em>type</em></p><p>Force packets selected by “<em>expression</em>“ to be interpreted the specified <em>type</em>. Currently known types are <strong>aodv</strong> (Ad-hoc On-demand Distance Vector protocol)， <strong>carp</strong> (Common Address Redundancy Protocol)， <strong>cnfp</strong> (Cisco NetFlow protocol)， <strong>domain</strong> (Domain Name System)， <strong>lmp</strong> (Link Management Protocol)， <strong>pgm</strong> (Pragmatic General Multicast)， <strong>pgm_zmtp1</strong> (ZMTP&#x2F;1.0 inside PGM&#x2F;EPGM)， <strong>ptp</strong> (Precision Time Protocol)， <strong>radius</strong> (RADIUS)， <strong>resp</strong> (REdis Serialization Protocol)， <strong>rpc</strong> (Remote Procedure Call)， <strong>rtcp</strong> (Real-Time Applications control protocol)， <strong>rtp</strong> (Real-Time Applications protocol)， <strong>snmp</strong> (Simple Network Management Protocol)， <strong>someip</strong> (SOME&#x2F;IP)， <strong>tftp</strong> (Trivial File Transfer Protocol)， <strong>vat</strong> (Visual Audio Tool)， <strong>vxlan</strong> (Virtual eXtensible Local Area Network)， <strong>wb</strong> (distributed White Board) and <strong>zmtp1</strong> (ZeroMQ Message Transport Protocol 1.0).</p><p>Note that the <strong>pgm</strong> type above affects UDP interpretation only， the native PGM is always recognised as IP protocol 113 regardless. UDP-encapsulated PGM is often called “EPGM” or “PGM&#x2F;UDP”.</p><p>Note that the <strong>pgm_zmtp1</strong> type above affects interpretation of both native PGM and UDP at once. During the native PGM decoding the application data of an ODATA&#x2F;RDATA packet would be decoded as a ZeroMQ datagram with ZMTP&#x2F;1.0 frames. During the UDP decoding in addition to that any UDP packet would be treated as an encapsulated PGM packet.</p></li><li><p><strong>-t</strong></p><p>不要在每个转储行上打印时间戳。</p></li><li><p><strong>-tt</strong></p><p>在每个转储行上打印时间戳。在每个转储行上显示自 1970 年 1 月 1 日、00:00:00、UTC 以来的秒数，以及自该时间以来的几分之一秒。</p></li><li><p><strong>-ttt</strong></p><p>在每个转储行上的当前行和前一行之间打印一个时间增量，微秒或者纳秒由 <strong>–time-stamp-precision</strong> 选项决定，默认为 微秒。</p></li><li><p><strong>-tttt</strong></p><p>在每个转储行上打印一个时间戳。</p></li><li><p><strong>-ttttt</strong></p><p>在每个转储行的当前行和第一行之间打印一个增量，微秒或者纳秒由 <strong>–time-stamp-precision</strong> 选项决定，默认为 微秒。</p></li><li><p><strong>-u</strong></p><p>打印未解码的 NFS 句柄。</p></li><li><p><strong>-U</strong></p></li><li><p><strong>–packet-buffered</strong></p><p>If the <strong>-w</strong> option is not specified， or if it is specified but the <strong>–print</strong> flag is also specified， make the printed packet output &#96;&#96;packet-buffered’’; i.e.， as the description of the contents of each packet is printed， it will be written to the standard output， rather than， when not writing to a terminal， being written only when the output buffer fills.</p><p>如果指定了 <strong>-w</strong> 选项，则使保存的原始数据包输出为 <strong>packet-buffered</strong>，也就是说，当每个数据包被保存时，它将被写入输出文件，而不是只在输出缓冲区填充时才写入。</p><p>The <strong>-U</strong> flag will not be supported if <em>tcpdump</em> was built with an older version of <em>libpcap</em> that lacks the <strong><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tcpdump.org/manpages/pcap_dump_flush.3pcap.html">pcap_dump_flush</a>(3PCAP)</strong> function.</p></li><li><p><strong>-v</strong></p><p>当分析和打印的时候， 产生详细的输出。</p></li><li><p><strong>-vv</strong></p><p>产生比-v 更详细的输出。</p></li><li><p><strong>-vvv</strong></p><p>产生比 -vv 更详细的输出。</p></li><li><p><strong>-V</strong> <em>file</em></p><p>从 file 中读取一个文件名列表。如果 file 为-，则从标准输入中读取。</p></li><li><p><strong>-w</strong> <em>file</em></p><p>把原生信息写入到 file 文件，而不是进行输出。后续可以使用-r 来读取。如果 file 为 <code>-</code>，则写到标准输出。如果将该输出写入文件或管道，则该输出将被缓冲，因此从文件或管道读取数据包的程序可能在接收数据包后的一段时间内看不到数据包，因为数据还未写入文件。使用 <strong>-U</strong> 标志使数据包在收到后立即被写入文件。</p><p>The MIME type <em>application&#x2F;vnd.tcpdump.pcap</em> has been registered with IANA for <em>pcap</em> files. The filename extension <em>.pcap</em> appears to be the most commonly used along with <em>.cap</em> and <em>.dmp</em>. <em>Tcpdump</em> itself doesn’t check the extension when reading capture files and doesn’t add an extension when writing them (it uses magic numbers in the file header instead). However， many operating systems and applications will use the extension if it is present and adding one (e.g. .pcap) is recommended.</p><p>See <strong><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tcpdump.org/manpages/pcap-savefile.5.html">pcap-savefile</a></strong>(5) for a description of the file format.</p></li><li><p><strong>-W</strong> <em>filecount</em></p><p>此选项与 <code>-C</code> 选项配合使用，这将限制可打开的文件数目，并且当文件数据超过这里设置的限制时，依次循环替代之前的文件， 这相当于一个拥有 filecount 个文件的文件缓冲池。同时，该选项会使得每个文件名的开头会出现足够多并用来占位的 0， 这可以方便这些文件被正确的排序。</p><p>与 <strong>-G</strong> 选项一起使用，将限制所创建的旋转转储文件的数量，当达到限制时将以状态 0 退出。</p><p>如果与 <strong>-C</strong>* 和 <strong>-G</strong> 同时使用，**-W** 选项当前将被忽略，只会影响文件名。</p></li><li><p><strong>-x</strong></p><p>When parsing and printing， in addition to printing the headers of each packet， print the data of each packet (minus its link level header) in hex. The smaller of the entire packet or <em>snaplen</em> bytes will be printed. Note that this is the entire link-layer packet， so for link layers that pad (e.g. Ethernet)， the padding bytes will also be printed when the higher layer packet is shorter than the required padding. In the current implementation this flag may have the same effect as <strong>-xx</strong> if the packet is truncated.</p></li><li><p><strong>-xx</strong></p><p>解析和打印时，除了打印每个数据包的报头外，还打印每个数据包的数据，<em>包括</em>其链路级报头，十六进制。</p></li><li><p><strong>-X</strong></p><p>When parsing and printing， in addition to printing the headers of each packet， print the data of each packet (minus its link level header) in hex and ASCII. This is very handy for analysing new protocols. In the current implementation this flag may have the same effect as <strong>-XX</strong> if the packet is truncated.</p></li><li><p><strong>-XX</strong></p><p>解析和打印时，除了打印每个数据包的报头外，还打印每个数据包的数据，<em>包括</em>其链路级报头，十六进制和 ASCII 格式。</p></li><li><p><strong>-y</strong> <em>datalinktype</em></p></li><li><p><em>–linktype&#x3D;datalinktype</em></p><p>Set the data link type to use while capturing packets (see <strong>-L</strong>) or just compiling and dumping packet-matching code (see <strong>-d</strong>) to <em>datalinktype</em>.</p></li><li><p><strong>-z</strong> <em>postrotate-command</em></p><p>Used in conjunction with the <strong>-C</strong> or <strong>-G</strong> options， this will make <em>tcpdump</em> run “ <em>postrotate-command file</em> “ where <em>file</em> is the savefile being closed after each rotation. For example， specifying <strong>-z gzip</strong> or <strong>-z bzip2</strong> will compress each savefile using gzip or bzip2.</p><p>Note that tcpdump will run the command in parallel to the capture， using the lowest priority so that this doesn’t disturb the capture process.</p><p>And in case you would like to use a command that itself takes flags or different arguments， you can always write a shell script that will take the savefile name as the only argument， make the flags &amp; arguments arrangements and execute the command that you want.</p></li><li><p><strong>-Z</strong> <em>user</em></p></li><li><p><em>–relinquish-privileges&#x3D;user</em></p><p>如果<em>tcpdump</em>以 root 身份运行，在打开捕获设备或输入 savefile 之后，但在打开任何 savefile 输出之前，将用户 ID 更改为<em>user</em>，将组 ID 更改为<em>user</em>的主组。</p><p>这种行为也可以在编译时默认启用。</p></li><li><p><em>expression</em></p><p>selects which packets will be dumped. If no <em>expression</em> is given， all packets on the net will be dumped. Otherwise， only packets for which <em>expression</em> is &#96;true’ will be dumped.For the <em>expression</em> syntax， see <strong><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tcpdump.org/manpages/pcap-filter.7.html">pcap-filter</a></strong>(7).The <em>expression</em> argument can be passed to <em>tcpdump</em> as either a single Shell argument， or as multiple Shell arguments， whichever is more convenient. Generally， if the expression contains Shell metacharacters， such as backslashes used to escape protocol names， it is easier to pass it as a single， quoted argument rather than to escape the Shell metacharacters. Multiple arguments are concatenated with spaces before being parsed.</p></li></ul><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><ol><li>打印所有到达或者离开 sundown 主机的包：</li></ol><p><code>tcpdump host sundown</code></p><ol><li>打印 holios 与 hot 或者 ace 通信的包：</li></ol><p><code>tcpdump host helios and \( hot or ace \)</code></p><ol><li>打印除了 helios 的所有与 ace 通信的 ip 包：</li></ol><p><code>tcpdump ip host ace and not helios</code></p><ol><li>To print all traffic between local hosts and hosts at Berkeley:</li></ol><p><code>tcpdump net ucb-ether</code></p><ol><li>To print all ftp traffic through internet gateway <em>snup</em>: (note that the expression is quoted to prevent the shell from (mis-)interpreting the parentheses):</li></ol><p><code>tcpdump &#39;gateway snup and (port ftp or ftp-data)&#39;</code></p><ol><li>To print traffic neither sourced from nor destined for local hosts (if you gateway to one other net， this stuff should never make it onto your local net).</li></ol><p><code>tcpdump ip and not net** *localnet*</code></p><ol><li>To print the start and end packets (the SYN and FIN packets) of each TCP conversation that involves a non-local host.</li></ol><p><code>tcpdump &#39;tcp[tcpflags] &amp; (tcp-syn|tcp-fin) != 0 and not src and dst net** *localnet*&#39;</code></p><ol><li>To print the TCP packets with flags RST and ACK both set. (i.e. select only the RST and ACK flags in the flags field， and if the result is “RST and ACK both set”， match)</li></ol><p><code>tcpdump &#39;tcp[tcpflags] &amp; (tcp-rst|tcp-ack) == (tcp-rst|tcp-ack)&#39;</code></p><ol><li>To print all IPv4 HTTP packets to and from port 80， i.e. print only packets that contain data， not， for example， SYN and FIN packets and ACK-only packets. (IPv6 is left as an exercise for the reader.)</li></ol><p><code>tcpdump &#39;tcp port 80 and (((ip[2:2] - ((ip[0]&amp;0xf)&lt;&lt;2)) - ((tcp[12]&amp;0xf0)&gt;&gt;2)) != 0)&#39;</code></p><ol><li>To print IP packets longer than 576 bytes sent through gateway <em>snup</em>:</li></ol><p><code>tcpdump &#39;gateway snup and ip[2:2] &gt; 576&#39;</code></p><ol><li>To print IP broadcast or multicast packets that were <em>not</em> sent via Ethernet broadcast or multicast:</li></ol><p><code>tcpdump &#39;ether[0] &amp; 1 = 0 and ip[16] &gt;= 224&#39;</code></p><ol><li>To print all ICMP packets that are not echo requests&#x2F;replies (i.e.， not ping packets):</li></ol><p><code>tcpdump &#39;icmp[icmptype] != icmp-echo and icmp[icmptype] != icmp-echoreply&#39;</code></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noreferrer">IT老男孩</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://www.xtplayer.cn/linux/network/tcpdump-man-page/">https://www.xtplayer.cn/linux/network/tcpdump-man-page/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a rel="noopener noreferrer" href="https://www.xtplayer.cn" target="_blank">IT老男孩</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/tcpdump/">tcpdump</a><a class="post-meta__tags" href="/tags/%E6%8A%93%E5%8C%85/">抓包</a></div><div class="post_share"></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="wechat"></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="alipay"></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/kubernetes/kubectl-delete-evicted-pods/"><img class="prev-cover" src="/img/gkihqEjXxJ5UZ1C.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">删除状态为 Failed、Evicted 的 Pod</div></div></a></div><div class="next-post pull-right"><a href="/linux/network/networkmanager-not-manager-container-network-interface/"><img class="next-cover" src="/img/gkihqEjXxJ5UZ1C.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">配置 Network Manager 以忽略某些网络设备</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/linux/network/could-not-generate-persistent-mac-address/" title="Could not generate persistent MAC address "><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-05</div><div class="title">Could not generate persistent MAC address</div></div></a></div><div><a href="/linux/network/networkmanager-not-manager-container-network-interface/" title="配置 Network Manager 以忽略某些网络设备"><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-15</div><div class="title">配置 Network Manager 以忽略某些网络设备</div></div></a></div><div><a href="/linux/network/request-sock-tcp-possible-syn-flooding-on-port/" title="记一次 request_sock_tcp possible syn flooding on port 事件处理"><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-20</div><div class="title">记一次 request_sock_tcp possible syn flooding on port 事件处理</div></div></a></div><div><a href="/linux/about-ebpf/" title="关于 eBPF"><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-28</div><div class="title">关于 eBPF</div></div></a></div><div><a href="/linux/authentication-token-manipulation/" title="linux authentication token manipulation 错误"><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-11</div><div class="title">linux authentication token manipulation 错误</div></div></a></div><div><a href="/linux/sysstat/" title="sysstat 记录主机资源历史使用"><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-03</div><div class="title">sysstat 记录主机资源历史使用</div></div></a></div><div><a href="/linux/cgroup/cgroup-problem-sets/" title="Cgroup 常见问题集锦"><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-09</div><div class="title">Cgroup 常见问题集锦</div></div></a></div><div><a href="/linux/disk/blktrace-btt-test-io/" title="利用 BLKTRACE 和 BTT 分析磁盘 IO 性能"><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-05</div><div class="title">利用 BLKTRACE 和 BTT 分析磁盘 IO 性能</div></div></a></div><div><a href="/linux/netfilter/linux-netfilter-optimization/" title="Linux Netfilter 调优"><img class="cover" src="/img/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-04</div><div class="title">Linux Netfilter 调优</div></div></a></div></div></div><div class="ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="9845679202" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.jpeg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' width="110px" height="110px" alt="avatar"><div class="author-info__name">IT老男孩</div><div class="author-info__description">IT老男孩 - 原名系统玩家，分享 IT 相关技术文章，分享工作中的最佳实践。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">132</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">96</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">40</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rancher"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xiaoluhong" target="_blank" rel="external nofollow noreferrer noopener" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1044281310@qq.com" target="_blank" rel="external nofollow noreferrer noopener" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录导航</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8F%82%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">基本参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">4.</span> <span class="toc-text">示例</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/rancher/waiting-for-node-to-register-either-cluster-is-not-ready-for-registering-or-etcd-and-controlplane-node-have-to-be-registered-first/" title="Waiting for node to register. Either cluster is not ready for registering or etcd and controlplane node have to be registered first">Waiting for node to register. Either cluster is not ready for registering or etcd and controlplane node have to be registered first</a><time datetime="2022-09-17T06:33:50.000Z" title="发表 2022-09-17 14:33:50">2022-09-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/mysql/how-to-get-the-sizes-of-the-tables-of-a-mysql-database/" title="如何查看 MySQL 数据库容量大小，表容量大小，索引容量大小？">如何查看 MySQL 数据库容量大小，表容量大小，索引容量大小？</a><time datetime="2022-05-17T08:48:50.000Z" title="发表 2022-05-17 16:48:50">2022-05-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/rancher/either-cluster-is-not-ready-for-registering/" title="node-agent 报错 Either cluster is not ready for registering, cluster is currently provisioning, or etcd, controlplane and worker node have to be registered">node-agent 报错 Either cluster is not ready for registering, cluster is currently provisioning, or etcd, controlplane and worker node have to be registered</a><time datetime="2022-05-14T05:13:09.000Z" title="发表 2022-05-14 13:13:09">2022-05-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/prometheus/prometheus-adapter/" title="Prometheus Adapter 安装">Prometheus Adapter 安装</a><time datetime="2022-04-04T08:26:12.000Z" title="发表 2022-04-04 16:26:12">2022-04-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/prometheus/custom-parameter/" title="自定义集群监控参数">自定义集群监控参数</a><time datetime="2022-03-28T11:10:20.000Z" title="发表 2022-03-28 19:10:20">2022-03-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/rancher/rancher-new-forums/" title="全新论坛启用，Rancher 中文社区迈入新阶段">全新论坛启用，Rancher 中文社区迈入新阶段</a><time datetime="2022-03-25T13:16:03.000Z" title="发表 2022-03-25 21:16:03">2022-03-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/coredns/accelerate-external-domain-resolution/" title="coreDNS 加速外部域名解析">coreDNS 加速外部域名解析</a><time datetime="2021-07-17T05:12:27.000Z" title="发表 2021-07-17 13:12:27">2021-07-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/longhorn/ai-at-the-edge-with-k3s-nvidia-jetson-nano-object-detection-real-time-video-analytics-src/" title="AI at the Edge with K3s and NVIDIA Jetson Nano: Object Detection and Real-Time Video Analytics">AI at the Edge with K3s and NVIDIA Jetson Nano: Object Detection and Real-Time Video Analytics</a><time datetime="2021-04-20T16:22:57.000Z" title="发表 2021-04-21 00:22:57">2021-04-21</time></div></div></div></div><div class="card-widget ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="5141213090" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By IT老男孩</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://beian.miit.gov.cn"><img class="icp-icon" width="25px" height="17px" src="/img/icp.png" alt="icp"><span>蜀ICP备20023095号-1</span></a> <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51010702002006"><span>川公网安备51010702002006号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text" aria-label="Search"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/instantpage.min.js" type="module"></script><script src="/js/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="5169987169" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listfolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><link rel="stylesheet" href="/css/APlayer.min.css" media="print" onload='this.media="all"'><script src="/js/APlayer.min.js"></script><script src="/js/Meting.min.js"></script><script src="/js/pjax.min.js"></script><script>let pjaxSelectors=["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!0,scrollRestoration:!1});document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","G-WDVQSZ43MX",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:send",(function(){if("object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="/js/busuanzi.pure.mini.js"></script><script>!function(){var e=document.createElement("script");e.src="https://sf1-scmcdn-tos.pstatp.com/goofy/ttzz/push.js?abca38a75f1ee646121b4cdefd4e13cef04782c449861f0dbdffcd879911999e0ea61db5c17bca91cb6b39891e5c5ae8de9c557b8186e0f895b49e96a4810ca7",e.id="ttzz";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(e,c)}(window)</script></div></body></html>