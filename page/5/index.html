<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>IT老男孩 - 系统玩家</title><meta name="keywords" content="IT老男孩,rancher,github rancher,rke,rke2,k3s,docker,kubernetes,devops,多集群管理,容器,Linux运维,网络运维,最佳实践"><meta name="author" content="IT老男孩"><meta name="copyright" content="IT老男孩"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="IT老男孩 - 原名系统玩家，分享 IT 相关技术文章，分享工作中的最佳实践。"><meta property="og:type" content="website"><meta property="og:title" content="IT老男孩"><meta property="og:url" content="https://www.xtplayer.cn/page/5/index.html"><meta property="og:site_name" content="IT老男孩"><meta property="og:description" content="IT老男孩 - 原名系统玩家，分享 IT 相关技术文章，分享工作中的最佳实践。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.xtplayer.cn/img/avatar.jpeg"><meta property="article:author" content="IT老男孩"><meta property="article:tag" content="IT老男孩,rancher,github rancher,rke,rke2,k3s,docker,kubernetes,devops,多集群管理,容器,Linux运维,网络运维,最佳实践"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.xtplayer.cn/img/avatar.jpeg"><link rel="shortcut icon" type="image/png" href="/img/favicon.png"><link rel="canonical" href="https://www.xtplayer.cn/page/5/"><link rel="preconnect" href="https//cdn.jsdelivr.net"><link rel="preconnect" href="https//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="https//hm.baidu.com"><link rel="preconnect" href="https//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet preload" as="font" href="/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="/css/snackbar.min.css" media="print" onload='this.media="all"'><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-4244806813321801",enable_page_level_ads:"true"})</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?08d495d3996be233cf4355e47874fd02";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WDVQSZ43MX"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WDVQSZ43MX")</script><script>!function(){var c=document.createElement("script");c.src="https://sf1-scmcdn-tos.pstatp.com/goofy/ttzz/push.js?abca38a75f1ee646121b4cdefd4e13ce89e669412cb977bb98b66029e7fc3cfc8d38a1f1352cfca035e8cdfca27dc395b6c71280cecfa54b697791769b400b8d",c.id="ttzz";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e)}(window)</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!1,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#121212",position:"bottom-center"},source:{jQuery:"/js/jquery.min.js",justifiedGallery:{js:"/js/jquery.justifiedGallery.min.js",css:"/css/justifiedGallery.min.css"},fancybox:{js:"/js/jquery.fancybox.min.js",css:"/css/jquery.fancybox.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isanchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={isPost:!1,isHome:!0,isHighlightShrink:!1,isToc:!1,postUpdate:"2022-09-17 15:24:38"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)});const t=saveToLocal.get("aside-status");void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"))})(window)</script><style>#toggle-sidebar{left:100px}</style><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="IT老男孩" type="application/atom+xml"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.jpeg" onerror='onerror=null,src="/img/friend_404.gif"' width="110px" height="110px" alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">132</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">96</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">40</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/ad/"><i class="fa-fw fas fa-heart"></i> <span>广告</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">IT老男孩</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/ad/"><i class="fa-fw fas fa-heart"></i> <span>广告</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/kubernetes/reuse-released-pv/" title="复用 Released 状态的 pv">复用 Released 状态的 pv</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-12-08T10:50:22.000Z" title="发表 2020-12-08 18:50:22">2020-12-08</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2022-03-27T12:56:21.238Z" title="更新 2022-03-27 20:56:21">2022-03-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/released-pv/">Released pv</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/storage/">storage</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/kubernetes/reuse-released-pv/ PV 回收策略当用户不再使用其存储卷时，他们可以从 API 中将 PVC 对象删除，从而允许 该资源被回收再利用。PersistentVolume 对象的回收策略告诉集群，当其被 从申领中释放时如何处理该数据卷。 目前，数据卷可以被 Retained（保留）、Recycled（回收，Recycle 已被废弃）或 Deleted（删除）。 保留（Retain）回收策略 Retain 使得用户可以手动回收资源。当 PersistentVolumeClaim 对象 被删除时，PersistentVolume 卷仍然存在，对应的数据卷被视为”已释放（released）”。 由于卷上仍然存在这前一申领人的数据，该卷还不能用于其他申领。 管理员可以通过下面的步骤来手动回收该卷： 删除 PersistentVolume 对象。与之相关的、位于外部基础设施中的存储资产 （例如 AWS EBS、GCE PD、Azure Disk 或 Cinder 卷）在 PV 删除之后仍然存在 ...</div><a class="more" href="/kubernetes/reuse-released-pv/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/rancher/rancher-not-display-global-monitoring/" title="Rancher 不显示全局功能的解决方案">Rancher 不显示全局功能的解决方案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-12-01T09:09:12.000Z" title="发表 2020-12-01 17:09:12">2020-12-01</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/rancher/">rancher</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/rancher/">rancher</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/rancher/rancher-not-display-global-monitoring/ 有时候在 rancher ui 全局界面无法查看一些功能，比如全局监控，或者企业版无法在镜像仓库菜单中查看 harbor 配置等。这是一个历史遗留的 BUG，访问 server_url/v3/users?me=true 时可以看到多个用户具有 me: true 字段。 解决方法在 local 集群或者 rancher server 容器中执行以下脚本： 注意：操作前先对 local 集群或者 rancher server 容器做数据备份。 for user in `kubectl get users.management.cattle.io|awk &#x27;&#123;print $1&#125;&#x27;|grep -v NAME`;do if [ &quot;$( kubectl get user $&#123;user&#125; -oyaml|grep -w &#x27;me: true&#x27 ...</div><a class="more" href="/rancher/rancher-not-display-global-monitoring/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/kubernetes/forces-delete-terminated-namespace/" title="强制删除 Terminating 状态的 namespace">强制删除 Terminating 状态的 namespace</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-12-01T03:48:36.000Z" title="发表 2020-12-01 11:48:36">2020-12-01</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/kubernetes/">kubernetes</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/terminated/">terminated</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/kubernetes/forces-delete-terminated-namespace/ 有时候删除命名空间后，发现命名空间一直处于 Terminating 状态。通过执行 kubectl delete namespace $&#123;namespace&#125; --force --grace-period=0 强制删除命令依然无法删除。 rancher 自定义 k8s 集群或者导入 rancher 管理的 k8s 集群 登录 rancher ui，切换到对应集群首页，点击 执行 kubectl 命令行。 接着执行以下命令： # 指定需要删除的命名空间NAMESPACE= &#x27;&#x27;# 以下为固定格式，不需要修改RANCHER_SERVER_URL=$( kubectl config view -o json|jq -r .clusters[0].cluster.server )CLUSTER_TOKEN=$( kubectl config view -o json|jq -r .use ...</div><a class="more" href="/kubernetes/forces-delete-terminated-namespace/#more">阅读全文</a></div></div><div class="recent-post-item ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="3814816845" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/rancher/monitors/rancher-monitors-collection-external-etcd-data/" title="Rancher 自带监控收集导入 K8S 集群的 ETCD 数据">Rancher 自带监控收集导入 K8S 集群的 ETCD 数据</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-11-30T09:01:48.000Z" title="发表 2020-11-30 17:01:48">2020-11-30</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/rancher/">rancher</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/rancher/monitors/">monitors</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/rancher-monitors/">rancher monitors</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/monitors/">monitors</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/rancher/monitors/rancher-monitors-collection-external-etcd-data/ 目前，rancher 自带监控暂时只支持收集 rancher 自定义集群的 ETCD 监控数据。对于 rke 创建并导入或者其他工具创建并导入的 k8s 集群，因为架构的差异，暂时不能直接支持监控 ETCD 监控数据。 rancher 内置监控也是通过 prometheus-operator 部署，只需要自定义一些 serviceMonitor 配置即可实现其他类型集群 ETCD 监控数据收集。 方案介绍serviceMonitor 是通过对 service 获取数据的一种方式。prometheus-operator 可以通过 serviceMonitor 自动识别带有某些 label 的 service，并从这些 service 获取数据。serviceMonitor 也是由 prometheus-operator 自动发现。 对应一些启用 ssl 认证的服务，需要提供 ssl 证书给 pr ...</div><a class="more" href="/rancher/monitors/rancher-monitors-collection-external-etcd-data/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/vagrant/vagrant-quick-start/" title="vagrant 快速搭建开发测试环境">vagrant 快速搭建开发测试环境</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-10-24T11:43:57.000Z" title="发表 2020-10-24 19:43:57">2020-10-24</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/vagrant/">vagrant</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/vagrant/">vagrant</a></span></div><div class="content">Vagrant 简介Vagrant 是用于在单个工作流程中构建和管理虚拟机环境的工具，它具有高度的自动化和易于使用的工作流程，大大缩短了开发环境的部署时间，提高了效率。 Vagrant 与 Docker 有点类似，Docker 可以使用 Docker images 来运行不同的容器，而 Vagrant 也有与 Docker images 相似的 Vagrant Box，Vagrant Box 也可以理解为是一个镜像。可以使用一个 base box 运行虚拟机，然后在虚拟机中安装某些软件，然后将这个虚拟机导出为新的 Box。为了保证环境的统一性，你可以将此 Box 分发给其他同事使用。 Vargant 的优点 环境配置统一 一次配置打包，统一分发给团队成员，避免诸如 编码问题、缺少模块、配置文件不同 带来的问题。 环境快速搭建与销毁 通过统一的 Vagrantfile 配置文件，需要时可以快速的搭建，不需要时可以快速销毁，减少搭建环境的时间成本，减少资源的空闲占用提高资源使用率。 批量部署多种不同的环境 通过 Vagrantfile 配置文件可以定义不通的环境，然后一次性快速 ...</div><a class="more" href="/vagrant/vagrant-quick-start/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/f5/f5-calico-bgp-ingress/" title="Rancher Calico BGP 对接 F5">Rancher Calico BGP 对接 F5</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-29T04:21:34.000Z" title="发表 2020-09-29 12:21:34">2020-09-29</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-02-04T17:33:40.000Z" title="更新 2021-02-05 01:33:40">2021-02-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/f5/">f5</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/bgp/">BGP</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/calico/">calico</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/f5/">F5</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/f5/f5-calico-bgp-ingress/ 本文档基于 BIGIP-16.0.0.1-0.0.3.ALL-virtual-edition 版本编写，启用 F5 的 BGP 功能需要高级路由模块证书。 如果仅用于测试， https://www.f5.com/zh_cn/trials/big-ip-virtual-edition 此处可以申请试用版的序列号。 Rancher Calico BGP 配置K8S 集群部署目前 Rancher UI 部署 Calico 网络驱动暂不支持自定义高级配置，对于某些高级功能，需要通过手动修改网络驱动工作负载配置来实现。但是，在下一次升级 K8S 集群的时候可能会导致网络驱动自定义配置丢失。 如果对网络组件有特殊配置，建议在通过 Rancher UI 创建集群的时候，编辑集群 YAML 文件或者 RKE 配置文件中设置网络驱动为 none network: plugin: none 以此来关闭集群原有网络驱动部署功能，在集群创建好之后通过手动部署网络驱动，部署 YAM ...</div><a class="more" href="/f5/f5-calico-bgp-ingress/#more">阅读全文</a></div></div><div class="recent-post-item ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="3814816845" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/etcd/etcd-best-practices/" title="Etcd 原理阐释及部署设置的最佳实践">Etcd 原理阐释及部署设置的最佳实践</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-21T11:01:41.000Z" title="发表 2020-09-21 19:01:41">2020-09-21</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/etcd/">etcd</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/etcd/">etcd</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/etcd/etcd-best-practices/ 介 绍Etcd 是一个开源的分布式键值存储，它由 CoreOS 团队开发，现在由 Cloud Native Computing Foundation 负责管理。这个词的发音是“et-cee-dee”，表示在多台机器上分发 Unix 系统的“&#x2F;etc”目录，其中包含了大量的全局配置文件。它是许多分布式系统的主干，为跨服务器集群存储数据提供可靠的方式。它适用于各种操作系统，包括 Linux、BSD 和 OS X。 Etcd 具有下面这些属性： 完全复制：集群中的每个节点都可以使用完整的存档 高可用性：Etcd 可用于避免硬件的单点故障或网络问题 一致性：每次读取都会返回跨多主机的最新写入 简单：包括一个定义良好、面向用户的 API（gRPC） 安全：实现了带有可选的客户端证书身份验证的自动化 TLS 快速：每秒 10000 次写入的基准速度 可靠：使用 Raft 算法实现了存储的合理分布 Etcd 的工作原理在理解 Etcd 的工作机制之前，我们先定义三个关键 ...</div><a class="more" href="/etcd/etcd-best-practices/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/etcd/monitor-etcd-quickly-using-prometheus/" title="快速使用 Prometheus 监控 Etcd">快速使用 Prometheus 监控 Etcd</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-21T10:50:40.000Z" title="发表 2020-09-21 18:50:40">2020-09-21</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/etcd/">etcd</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/etcd/">etcd</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/prometheus/">Prometheus</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/etcd/monitor-etcd-quickly-using-prometheus/ 本教程是「Etcd 超全解：原理阐释及部署设置的最佳实践」的后续文章。在本文中，我们将安装一个 Etcd 集群并使用 Prometheus 和 Grafana 配置监控，以上这些操作我们都通过 Rancher 进行。 我们将看到在不需要依赖的情况下充分利用 Rancher 的应用商店实现这一目标是如此容易。在本文中，我们将不需要： 为运行 kubectl 专门配置交互框，并指向 Kubernetes 集群 kubectl 的使用知识，因为我们可以使用 Rancher UI 完成这一切 安装&#x2F;配置 Helm binary Demo 前期准备 你将需要： 一个 Google 云平台的账号（免费的即可）。任意其他云也可以。 Rancher v2.4.7（撰写本文时的最新版本） 运行在 GKE（版本为 1.16.3-gke.1）上的 Kubernetes 集群（在 EKS 或 AKS 上运行也可以） 启动一个 Rancher ...</div><a class="more" href="/etcd/monitor-etcd-quickly-using-prometheus/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/kubernetes/rancher-k8s-resource-management/" title="Rancher k8s 资源管理">Rancher k8s 资源管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-17T05:12:40.000Z" title="发表 2020-09-17 13:12:40">2020-09-17</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-01-30T09:29:34.000Z" title="更新 2021-01-30 17:29:34">2021-01-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/cgroup/">cgroup</a></span></div><div class="content">cgroup 简介控制群组 (control group)(简称cgroup) 是 Linux kernel 的一项功能。从使用的角度看，cgroup 是一个目录树结构，目录中可以创建多层子目录，这些目录称为**cgroup 目录**。在一些场景中为了体现层级关系，还会称为**cgroup 子目录**。 通过 cgroup 可对 CPU 时间片、系统内存、磁盘 IO、网络带宽等资源进行精细化控制，以便硬件资源可以在应用程序和用户间智能分配，从而增加整体效率。 通过将 cgroup 层级与 systemd 单位树绑定，可以把资源管理设置从进程级别转换至应用程序级别。因此，可以使用systemctl指令或通过修改 systemd 服务配置文件来管理系统资源。更多关于 systemd 相关配置请查阅附件文档。 Linux Kernel 的 cgroup 资源管控器cgroup 资源管控器也称为 cgroup 子系统，代表一种单一资源：如 CPU 时间片或者内存。 Linux kernel 提供一系列资源管控器，由 systemd 自动挂载。如需了解目前已挂载的资源管控器列表，可通过查看文件: ...</div><a class="more" href="/kubernetes/rancher-k8s-resource-management/#more">阅读全文</a></div></div><div class="recent-post-item ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="3814816845" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/kubernetes/fast-migration-pod-when-node-unavailable/" title="K8S 节点不可用时快速迁移 Pods">K8S 节点不可用时快速迁移 Pods</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-16T03:55:03.000Z" title="发表 2020-09-16 11:55:03">2020-09-16</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/kubernetes/">kubernetes</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/taintbasedevictions/">TaintBasedEvictions</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/kubernetes/fast-migration-pod-when-node-unavailable/ 当节点宕机或者节点网络异常时，我们希望该节点上的 Pod 能够快速迁移到其他节点，并提供服务。但是测试发现节点 Down 掉以后，Pod 并不会立即迁移到其他节点。使用不同的 Kubernetes 版本测试，在默认配置下，需要等待将近 6 到 10 分钟节点上的 Pod 才会开始迁移。 这个现象与 Kubelet 的状态更新机制密切相关，下面我们来分析下 Kubelet 状态更新的基本流程。 kubelet kubelet 自身会定期更新状态到 apiserver，通过参数 --node-status-update-frequency 配置上报频率，默认 10s 上报一次。 kube-controller-manager kube-controller-manager 会定时去检查 kubelet 的状态，可通过 --node-monitor-period 自定义这个时间 ，默认是 5s。 当 node 失联一 ...</div><a class="more" href="/kubernetes/fast-migration-pod-when-node-unavailable/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/longhorn/longhorn-recovery-app/" title="使用 Longhorn 优雅地恢复运行中的容器应用">使用 Longhorn 优雅地恢复运行中的容器应用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-15T11:16:22.000Z" title="发表 2020-09-15 19:16:22">2020-09-15</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/longhorn/">longhorn</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/longhorn/">longhorn</a></span></div><div class="content">简介Longhorn 是基于 Kubernetes 的轻量级分布式块存储系统，它完全开源，并且已经捐献给 CNCF。随着云原生应用的普及，越来越多的服务提供容器运行时，数据的持久化存储问题渐渐显现出来，我们要做的不仅仅是数据的持久化，还要考虑备份的准确性，迁移的复杂性等。 Longhorn 提供的分布式块存储可以在 Kubernetes 中直接使用持久化存储，它可以为数据卷在不同主机提供多副本服务，以保证数据的可靠性，它提供简洁的 UI 可以直接管理存储节点、数据卷，轻松实现数据卷的备份&#x2F;定时备份，您还可以使用容灾备份功能，在不同集群创建容灾备份卷，并在发生紧急情况时及时进行故障转移。 在这篇文章中，我们将把 MySQL 作为 Pod 部署到集群 A 中，并使用 Longhorn 作为持久化存储卷，然后依托 Rancher 多集群管理的特性，结合 Longhorn 的容灾备份功能，演示一下如何优雅地将集群 A 中的 MySQL 应用及数据迁移到集群 B 中。 环境准备 Rancher (HA 部署) - v2.4.8 Longhorn（通过 Rancher UI Cata ...</div><a class="more" href="/longhorn/longhorn-recovery-app/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/coredns/coredns-host/" title="coredns 解析外部域名">coredns 解析外部域名</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-15T05:12:27.000Z" title="发表 2020-09-15 13:12:27">2020-09-15</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/coredns/">coredns</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/coredns/">coredns</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/coredns-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">coredns 最佳实践</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/coredns/coredns-host/ 问题背景有时候 kubernetes 集群中的应用需要通过域名访问集群外部的一些服务，虽然 ip 是可以正常通信，但是因为没有可用解析域名的 DNS 服务器，从而导致了应用无法正常访问外部域名。 解决方案一对于单个应用，可以给 Pod 的 hosts（&#x2F;etc&#x2F;hosts）添加条目。 编辑应用，点击右下角的 显示高级选项，在网络选项中设置 &#x2F;etc&#x2F;hosts 解决方案二对于方案一，少数应用或者临时测试是没有问题。但是对于大量应用需要同时修改配置，工作量就挺大了。这个时候就需要一个中间的 DNS 代理服务，只需要修改一次代理服务即可。 kubernetes 集群中内置了 DNS 服务器软件。在 rancher 或者 rke 集群中，不同的版本内置的 DNS 服务器软件不同。下表列出了对应关系： https://rancher.com/docs/rke/latest/en/config-options/add-ons/dns/ ...</div><a class="more" href="/coredns/coredns-host/#more">阅读全文</a></div></div><div class="recent-post-item ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="3814816845" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/kubernetes/kubelet/pleg-is-not-healthy-2/" title="PLEG is not healthy（二）">PLEG is not healthy（二）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-15T02:11:53.000Z" title="发表 2020-09-15 10:11:53">2020-09-15</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-09-02T06:32:15.000Z" title="更新 2021-09-02 14:32:15">2021-09-02</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/kubernetes/kubelet/">kubelet</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/pleg/">PLEG</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/kubelet/">kubelet</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/kubernetes/kubelet/pleg-is-not-healthy-2/ 上一篇文章（PLEG is not healthy (一)）我们讲了 PLEG is not healthy 发生的原因，以及分析了 PLEG 的工作原理。 这篇文章再来说说实际遇到 PLEG is not healthy 时如何快速处理。 PLEG is not healthy 现象Healthy() 函数会以 “PLEG” 的形式添加到 runtimeState 中，Kubelet 在一个同步循环（SyncLoop() 函数）中会定期（默认是 10s）调用 Healthy() 函数。Healthy() 函数会检查 relist 进程（PLEG 的关键任务）是否在 3 分钟内完成。如果 relist 进程的完成时间超过 3 分钟，就会报告 PLEG is not healthy。 概括一点就是 kubelet 会每隔 10 秒去获取当前节点容器的健康状态，如果超过 3 分钟还没有完成，就会提示 PLEG is not healthy ...</div><a class="more" href="/kubernetes/kubelet/pleg-is-not-healthy-2/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/kubernetes/kubelet/pleg-is-not-healthy/" title="PLEG is not healthy (一)">PLEG is not healthy (一)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-11T10:12:04.000Z" title="发表 2020-09-11 18:12:04">2020-09-11</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-02-04T17:33:40.000Z" title="更新 2021-02-05 01:33:40">2021-02-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/kubernetes/kubelet/">kubelet</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/pleg/">PLEG</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/kubelet/">kubelet</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/kubernetes/kubelet/pleg-is-not-healthy/ PLEG 是什么？PLEG 全称叫 Pod Lifecycle Event Generator，即 Pod 生命周期事件生成器。实际上它只是 Kubelet 中的一个模块，主要职责就是通过匹配每个的 Pod 事件级别来调整容器运行时的状态，并将调整的结果写入缓存，使 Pod 的缓存保持最新状态。 PLEG 出现的背景在 Kubernetes 中，每个节点上都运行着守护进程 Kubelet 来管理节点上的容器，调整容器的实际状态以匹配 spec 中定义的状态。具体来说，Kubelet 需要对两个地方的更改做出及时的回应: Pod spec 中定义的状态 容器运行时的状态 对于 Pod，Kubelet 会从多个数据来源 watch Pod spec 中的变化。对于容器，Kubelet 会定期（例如，10s）轮询容器运行时，以获取所有容器的最新状态。 随着 Pod 和容器数量的增加，轮询会产生不可忽略的开销，并且会由于 Kubelet 的并行操 ...</div><a class="more" href="/kubernetes/kubelet/pleg-is-not-healthy/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/rancher/authentication/rancher2-okta-authentication/" title="Rancher2 配置 okta 认证">Rancher2 配置 okta 认证</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-10T13:41:25.000Z" title="发表 2020-09-10 21:41:25">2020-09-10</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/rancher/">rancher</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/rancher/authentication/">authentication</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/authentication/">authentication</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/rancher/authentication/rancher2-okta-authentication/ 版本支持: Rancher v2.2.0+ 注意 在开始之前，请熟悉 外部身份验证配置和主要用户 的概念。 okta 应用配置这里以 okta 官方 demo 为例，访问 https://www.okta.com/free-trial/ 可以申请 30 天的试用账号。 创建应用 登录控制台后，依次点击 1、2、3、4 来创建应用。 注意：深红色的 3 是系统的提示。 选择 web 和 SAML 2.0，并点击创建。 SAML 配置常规设置 设置 APP 名称，其他参数可以忽略，然后点击下一步。 配置 SAML SAML Settings Single sign on URL https://yourRancherHostURL/v1-saml/okta/saml/acs Audience URI (SP Entity ID) https://yourRancherHostUR ...</div><a class="more" href="/rancher/authentication/rancher2-okta-authentication/#more">阅读全文</a></div></div><div class="recent-post-item ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="3814816845" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/git/top-11-reasons-to-use-gitops/" title="采用 GitOps 的 11 大原因">采用 GitOps 的 11 大原因</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-08T10:06:52.000Z" title="发表 2020-09-08 18:06:52">2020-09-08</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-02-04T17:33:40.000Z" title="更新 2021-02-05 01:33:40">2021-02-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/git/">git</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/gitops/">GitOps</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/git/top-11-reasons-to-use-gitops/ Kubernetes 允许我们单纯地使用声明性的配置文件来管理我们的应用部署和其他基础设施组件（例如，我们现在都是 YAML 开发者）。这使我们能够把所有这些文件放到 Git 仓库中，然后把它挂到流水线上（Jenkins、GitLab 等），流水线会把这些变化应用到集群上，然后就有了 GitOps。如果你还不了解 GitOps 是什么，可以查看我们之前发布过的文章：GitOps 初阶指南：将 DevOps 扩展至 K8S 为了使工作正常进行，我们必须确保改变集群的唯一方法是在 Git 仓库上提交。GitOps 并不是专门针对 Kubernetes 的，同样的原理也可以应用于任何其他声明式配置管理的环境。 可以说，很多企业已经开始采用 GitOps 了，但现在是业界开始充分认识到其潜力的时候。所以，让我们深入了解一下它如此出色的原因吧！ 存储环境变更历史记录 只有通过更新相应 Git 仓库中的配置，才能改变应用环境。这将创建一个完整的状态变化的历史记 ...</div><a class="more" href="/git/top-11-reasons-to-use-gitops/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/linux/network/could-not-generate-persistent-mac-address/" title="Could not generate persistent MAC address ">Could not generate persistent MAC address</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-05T09:55:47.000Z" title="发表 2020-09-05 17:55:47">2020-09-05</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-02-04T17:33:40.000Z" title="更新 2021-02-05 01:33:40">2021-02-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/linux/">linux</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/linux/network/">network</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/linux/">linux</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/linux/network/could-not-generate-persistent-mac-address/ 问题现象在 docker 容器环境中，可能会看到很多如下的错误日志： Could not generate persistent MAC address for tap0: No such file or directory 问题分析这是一个容器环境下的 BUG：https://github.com/systemd/systemd/issues/3374 。 解决方案编辑以下文件，如果这个文件没有则新建，然后配置以下参数。 /etc/systemd/network/99-default.link [Link]NamePolicy=kernel database onboard slot pathMACAddressPolicy=none MACAddressPolicy= 如何设置网卡的 MAC 地址：persistent 如果内核使用了网卡硬件固有的 MAC 地址(绝大多数网卡都有)， 那么啥也不做， ...</div><a class="more" href="/linux/network/could-not-generate-persistent-mac-address/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/etcd/etcd-optimize/" title="etcd 配置优化">etcd 配置优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-04T07:21:45.000Z" title="发表 2020-09-04 15:21:45">2020-09-04</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/etcd/">etcd</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/etcd/">etcd</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/etcd/etcd-optimize/ 注意： 以下操作中所指的 K8S 集群，均是 rancher 或者 rke 创建的集群。 存储空间配额--quota-backend-bytes 存储空间配额可以理解为 ETCD 数据库大小，默认限制 2G（推荐最大 8G）。当数据写入耗尽存储空间时，ETCD 会引发整个集群范围的警告，该警告将会导致集群切换为维护模式，维护模式 仅接受键值读取和删除，不支持写入。 所以，在创建集群时候建议修改配额大小。但是这个配额值不宜过设置大，建议在主机内存的 60% - 70%。 手动释放配额空间如果在 ETCD 服务日志中看到类似以下的日志，那么说明 ETCD 配额空间可能已经满了，需要手动去清理并释放空间。 Error: rpc error: code = 8 desc = etcdserver: mvcc: database space exceeded 执行以下命令查看配额空间具体使用信息 # 在 ETCD 主机上执行以下命令docker exec -ti etcd sh ...</div><a class="more" href="/etcd/etcd-optimize/#more">阅读全文</a></div></div><div class="recent-post-item ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="3814816845" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/macos/mds-stores-use-high-cpu/" title="mds、mds_stores、mdworker 占用大量 cpu 和内存">mds、mds_stores、mdworker 占用大量 cpu 和内存</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-01T15:00:54.000Z" title="发表 2020-09-01 23:00:54">2020-09-01</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/macos/">macos</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/macos/">macos</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/mds-stores/">mds_stores</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/mdworker/">mdworker</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/mds/">mds</a></span></div><div class="content">问题背景有时候忽然发现风扇转到特别厉害，打开的应用程序并不多。打开活动监视器，可以看到 mds、mds_stores、mdworker 占用很高的 cpu 和 内存 资源。 Spotlight 中文名称为 聚焦，就是按下 Command + 空格 弹窗的那个搜索框。 系统偏好设置位置： mds、mds_stores、mdworker 是 Spotlight 的组成部分： mds 元数据服务器。 mdworker 元数据服务器 worker 进程，主要负责文件的索引。 mds_stores 元数据存储服务。 在 Mac 上使用“聚焦”利用“聚焦”，您可以在 Mac 上查找应用、文稿及其他文件。您还可以利用“聚焦建议”来获取新闻、体育、影片、天气等信息。 使用“聚焦”进行搜索 点按菜单栏右上角的 ，或按下 Command-空格键。 输入您要查找的内容。您可以搜索类似“Apple Store 商店”或“来自艾米莉的电子邮件”这样的内容。 要打开结果列表中的某个项目，请连按这个项目。或者，要快速浏览结果，请使用向上箭头或向下箭头键。 按文件类型或位置进行搜索 ...</div><a class="more" href="/macos/mds-stores-use-high-cpu/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/rancher/project-management-cattle-io-not-found/" title="project.management.cattle.io not found">project.management.cattle.io not found</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-09-01T04:13:27.000Z" title="发表 2020-09-01 12:13:27">2020-09-01</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/rancher/">rancher</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/rancher/">rancher</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/project/">project</a></span></div><div class="content">本文永久链接: https://www.xtplayer.cn/rancher/project-management-cattle-io-not-found/ 问题背景有时候可能会在 rancher server 中看到很多如下的错误提示： 2019/07/16 06:33:23 [ERROR] NamespaceController default [resourceQuotaSyncController] failed with : project.management.cattle.io &quot;cluster-vp4z8/project-zj5k9&quot; not found, [resourceQuotaUsedLimitController] failed with : project.management.cattle.io &quot;cluster-vp4z8/project-zj5k9&quot; not found2019/07/16 06:33:39 [ERROR] NamespaceController kube-system [resourceQu ...</div><a class="more" href="/rancher/project-management-cattle-io-not-found/#more">阅读全文</a></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/ssl/self-signed-ssl/" title="自签名 SSL 证书">自签名 SSL 证书</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表:</span><time class="post-meta-date-created" datetime="2020-08-28T15:29:11.000Z" title="发表 2020-08-28 23:29:11">2020-08-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新:</span><time class="post-meta-date-updated" datetime="2021-03-23T14:58:20.000Z" title="更新 2021-03-23 22:58:20">2021-03-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><span class="article-meta-label">分类:</span><a class="article-meta__categories" href="/categories/ssl/">ssl</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><span class="article-meta-label">标签:</span><a class="article-meta__tags" href="/tags/ssl/">ssl</a></span></div><div class="content">HTTP over SSL要保证 Web 浏览器到服务器的安全连接，HTTPS 几乎是唯一选择。HTTPS 其实就是 HTTP over SSL，也就是让 HTTP 连接建立在 SSL 安全连接之上。 SSL 使用证书来创建安全连接，有两种验证模式: 仅客户端验证服务器的证书，客户端自己不提供证书； 客户端和服务器都互相验证对方的证书。 一般第二种方式用于网上银行等安全性要求较高的网站，普通的 Web 网站只采用第一种方式。 客户端如何验证服务器的证书呢？ web 服务的证书必须经过某权威证书的签名，而这个权威证书又可能经过更权威的证书签名。这么一级一级追溯上去，最顶层那个最权威的证书就称为根证书，根证书一般内置在浏览器中。这样，浏览器就可以利用自己自带的根证书去验证某个 web 服务的证书是否有效。如果要提供一个有效的证书，web 服务的证书必须从 VeriSign 这样的证书颁发机构签名。这样，浏览器就可以验证通过，否则浏览器给出一个证书无效的警告。一般安全要求较高的内网环境，可以通过创建自签名 SSL 证书来加密通信。 数字证书(Certificate)在 HTTPS ...</div><a class="more" href="/ssl/self-signed-ssl/#more">阅读全文</a></div></div><div class="recent-post-item ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="3814816845" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/#content-inner">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/#content-inner">6</a><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/6/#content-inner">下一页</a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.jpeg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' width="110px" height="110px" alt="avatar"><div class="author-info__name">IT老男孩</div><div class="author-info__description">IT老男孩 - 原名系统玩家，分享 IT 相关技术文章，分享工作中的最佳实践。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">132</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">96</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">40</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/rancher"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xiaoluhong" target="_blank" rel="external nofollow noreferrer noopener" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1044281310@qq.com" target="_blank" rel="external nofollow noreferrer noopener" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">我的博客</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/rancher/waiting-for-node-to-register-either-cluster-is-not-ready-for-registering-or-etcd-and-controlplane-node-have-to-be-registered-first/" title="Waiting for node to register. Either cluster is not ready for registering or etcd and controlplane node have to be registered first">Waiting for node to register. Either cluster is not ready for registering or etcd and controlplane node have to be registered first</a><time datetime="2022-09-17T06:33:50.000Z" title="发表 2022-09-17 14:33:50">2022-09-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/mysql/how-to-get-the-sizes-of-the-tables-of-a-mysql-database/" title="如何查看 MySQL 数据库容量大小，表容量大小，索引容量大小？">如何查看 MySQL 数据库容量大小，表容量大小，索引容量大小？</a><time datetime="2022-05-17T08:48:50.000Z" title="发表 2022-05-17 16:48:50">2022-05-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/rancher/either-cluster-is-not-ready-for-registering/" title="node-agent 报错 Either cluster is not ready for registering, cluster is currently provisioning, or etcd, controlplane and worker node have to be registered">node-agent 报错 Either cluster is not ready for registering, cluster is currently provisioning, or etcd, controlplane and worker node have to be registered</a><time datetime="2022-05-14T05:13:09.000Z" title="发表 2022-05-14 13:13:09">2022-05-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/prometheus/prometheus-adapter/" title="Prometheus Adapter 安装">Prometheus Adapter 安装</a><time datetime="2022-04-04T08:26:12.000Z" title="发表 2022-04-04 16:26:12">2022-04-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/prometheus/custom-parameter/" title="自定义集群监控参数">自定义集群监控参数</a><time datetime="2022-03-28T11:10:20.000Z" title="发表 2022-03-28 19:10:20">2022-03-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/rancher/rancher-new-forums/" title="全新论坛启用，Rancher 中文社区迈入新阶段">全新论坛启用，Rancher 中文社区迈入新阶段</a><time datetime="2022-03-25T13:16:03.000Z" title="发表 2022-03-25 21:16:03">2022-03-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/coredns/accelerate-external-domain-resolution/" title="coreDNS 加速外部域名解析">coreDNS 加速外部域名解析</a><time datetime="2021-07-17T05:12:27.000Z" title="发表 2021-07-17 13:12:27">2021-07-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/longhorn/ai-at-the-edge-with-k3s-nvidia-jetson-nano-object-detection-real-time-video-analytics-src/" title="AI at the Edge with K3s and NVIDIA Jetson Nano: Object Detection and Real-Time Video Analytics">AI at the Edge with K3s and NVIDIA Jetson Nano: Object Detection and Real-Time Video Analytics</a><time datetime="2021-04-20T16:22:57.000Z" title="发表 2021-04-21 00:22:57">2021-04-21</time></div></div></div></div><div class="card-widget ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4244806813321801" data-ad-slot="5141213090" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="card-widget card-categories"><div class="item-headline"><i class="fas fa-folder-open"></i> <span>分类</span><a class="card-more-btn" href="/categories/" title="查看更多"><i class="fas fa-angle-right"></i></a></div><ul class="card-category-list" id="aside-cat-list"><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/cicd/"><span class="card-category-list-name">cicd</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/containerd/"><span class="card-category-list-name">containerd</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/coredns/"><span class="card-category-list-name">coredns</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/csdn/"><span class="card-category-list-name">csdn</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/devops/"><span class="card-category-list-name">devops</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/docker/"><span class="card-category-list-name">docker</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/etcd/"><span class="card-category-list-name">etcd</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/f5/"><span class="card-category-list-name">f5</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/git/"><span class="card-category-list-name">git</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/hci/"><span class="card-category-list-name">hci</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/k3d/"><span class="card-category-list-name">k3d</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/k3s/"><span class="card-category-list-name">k3s</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/kubernetes/"><span class="card-category-list-name">kubernetes</span><span class="card-category-list-count">35</span></a><ul class="card-category-list child"><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/kubernetes/kubelet/"><span class="card-category-list-name">kubelet</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/kubernetes/scheduler/"><span class="card-category-list-name">scheduler</span><span class="card-category-list-count">1</span></a></li></ul></li></ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/coredns/" style="font-size:1.25em;color:#c72981">coredns</a><a href="/tags/coredns-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" style="font-size:1.25em;color:#c67b63">coredns 最佳实践</a><a href="/tags/coredns-%E5%8A%A0%E9%80%9F%E5%A4%96%E9%83%A8%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/" style="font-size:1.15em;color:#295fb4">coreDNS 加速外部域名解析</a><a href="/tags/containerd/" style="font-size:1.15em;color:#058862">containerd</a><a href="/tags/csdn/" style="font-size:1.15em;color:#13a930">CSDN</a><a href="/tags/devops/" style="font-size:1.15em;color:#baad59">devops</a><a href="/tags/devops/" style="font-size:1.15em;color:#a5b19e">DevOps</a><a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size:1.15em;color:#0a19c1">自动化</a><a href="/tags/docker/" style="font-size:1.15em;color:#2c2448">docker</a><a href="/tags/etcd/" style="font-size:1.35em;color:#7d0269">etcd</a><a href="/tags/prometheus/" style="font-size:1.15em;color:#29701e">Prometheus</a><a href="/tags/bgp/" style="font-size:1.15em;color:#895d21">BGP</a><a href="/tags/calico/" style="font-size:1.15em;color:#b80913">calico</a><a href="/tags/f5/" style="font-size:1.15em;color:#5c296e">F5</a><a href="/tags/gitops/" style="font-size:1.15em;color:#a65d64">GitOps</a><a href="/tags/hci/" style="font-size:1.15em;color:#946d98">HCI</a><a href="/tags/harvester/" style="font-size:1.15em;color:#404e70">Harvester</a><a href="/tags/k3d/" style="font-size:1.15em;color:#4a3767">k3d</a><a href="/tags/ebpf/" style="font-size:1.15em;color:#5896be">eBPF</a><a href="/tags/sysstat/" style="font-size:1.15em;color:#419854">sysstat</a><a href="/tags/longhorn-arm/" style="font-size:1.15em;color:#21795f">Longhorn ARM</a><a href="/tags/longhorn/" style="font-size:1.25em;color:#3b7bbc">longhorn</a><a href="/tags/macos-big-sur/" style="font-size:1.15em;color:#709020">macOS Big Sur</a><a href="/tags/macos/" style="font-size:1.25em;color:#4ac185">macos</a><a href="/tags/mds-stores/" style="font-size:1.15em;color:#86ac58">mds_stores</a><a href="/tags/mdworker/" style="font-size:1.15em;color:#6c0568">mdworker</a><a href="/tags/mds/" style="font-size:1.15em;color:#c4c067">mds</a><a href="/tags/oschina/" style="font-size:1.15em;color:#3dbd9a">OSCHINA</a><a href="/tags/oschina/" style="font-size:1.15em;color:#af7f0f">oschina</a><a href="/tags/cicd/" style="font-size:1.15em;color:#a18634">cicd</a><a href="/tags/kubernetes/" style="font-size:1.45em;color:#b59d64">kubernetes</a><a href="/tags/serviceaccount/" style="font-size:1.15em;color:#71b98d">serviceaccount</a><a href="/tags/taintbasedevictions/" style="font-size:1.15em;color:#761321">TaintBasedEvictions</a><a href="/tags/terminated/" style="font-size:1.15em;color:#012a1f">terminated</a><a href="/tags/ingress/" style="font-size:1.15em;color:#02a25e">ingress</a><a href="/tags/%E5%BC%B9%E6%80%A7%E4%BC%B8%E7%BC%A9/" style="font-size:1.15em;color:#227966">弹性伸缩</a><a href="/tags/kubernetes/" style="font-size:1.25em;color:#3f5a03">Kubernetes</a><a href="/tags/evicted/" style="font-size:1.15em;color:#861a03">Evicted</a><a href="/tags/failed/" style="font-size:1.15em;color:#5b9187">Failed</a><a href="/tags/device-or-resource-busy/" style="font-size:1.15em;color:#a133b3">device or resource busy</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多"><i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">22</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">39</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">132</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishdate="2020-07-01T00:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">199.3k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastpushdate="2022-09-17T07:24:37.721Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By IT老男孩</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://beian.miit.gov.cn"><img class="icp-icon" width="25px" height="17px" src="/img/icp.png" alt="icp"><span>蜀ICP备20023095号-1</span></a> <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51010702002006"><span>川公网安备51010702002006号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text" aria-label="Search"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/instantpage.min.js" type="module"></script><script src="/js/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="5169987169" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listfolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><link rel="stylesheet" href="/css/APlayer.min.css" media="print" onload='this.media="all"'><script src="/js/APlayer.min.js"></script><script src="/js/Meting.min.js"></script><script src="/js/pjax.min.js"></script><script>let pjaxSelectors=["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!0,scrollRestoration:!1});document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","G-WDVQSZ43MX",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:send",(function(){if("object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="/js/busuanzi.pure.mini.js"></script><script>!function(){var e=document.createElement("script");e.src="https://sf1-scmcdn-tos.pstatp.com/goofy/ttzz/push.js?abca38a75f1ee646121b4cdefd4e13cef04782c449861f0dbdffcd879911999e0ea61db5c17bca91cb6b39891e5c5ae8de9c557b8186e0f895b49e96a4810ca7",e.id="ttzz";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(e,c)}(window)</script></div></body></html>